# Diagrams

Repository for generating diagrams using PlantUML

- Devcontainer for compiling diagrams in codespace
- Automatically publishes diagrams as release on commit

## Example: Class Diagram generated from JSON files

![Class Diagram](https://github.com/thorlindberg/diagrams/releases/latest/download/Class_Diagram_from_JSON.png)

## Preprocessors (optional)

These .jar files are optional preprocessors. They should be executed before the plantuml .jar in the compile pipeline. These .jar files are available in the `temp` directory, and are generated by `scripts/java.sh` called within `compile.sh`.

### `classes-from-data.jar`

This preprocessor converts an input JSON/XML file to PlantUML class declarations with connections based on the object hierarchy.

The output TXT file can be included in a `.puml` file to generate a class diagram from the input file.

```
@startuml
!include ../temp/data.txt
@enduml
```

Intended usage is to preprocess a `.json/xml` file to a `.txt` file:

> java -jar "temp/classes-from-data.jar" -i "input/json/data.json" -o "temp"

| Parameter | Shorthand | Description | Value | Usage | |
| :- | :- | :- | :- | :- | :- |
| `-input` | `-i` | Input data file | `.json` `.xml` | `-i "input/json/data.json"` | Required |
| `-output` | `-o` | Output directory | `directory` | `-o "temp"` | Required |
| `-direction` | `-d` | Direction of connections | `up` `down` `left` `right` | `-d "up"` | Optional |
| `-mirror` | `-m` | Mirror structure | | `-m` | Optional |

It is recommended to specify the output directory path as `-o "temp"`, as this directory is ignored through .gitignore, and the output file is intended to be a temporary file.